import random


def play_game():
    print("üéØ –ò–≥—Ä–∞: –£–≥–∞–¥–∞–π –∫–æ—Ä–æ–±–∫—É —Å –∞—Ä–±—É–∑–æ–º! üçâ")
    print("–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π 3 –∫–æ—Ä–æ–±–∫–∏. –í –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö –ª–µ–∂–∏—Ç –∞—Ä–±—É–∑, –≤ –¥—Ä—É–≥–∏—Ö - –ø—É—Å—Ç–æ.")
    print("–£ —Ç–µ–±—è –≤—Å–µ–≥–æ –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞!")
    print("-" * 50)

    # –°–æ–∑–¥–∞–µ–º –∫–æ—Ä–æ–±–∫–∏
    boxes = ['–ø—É—Å—Ç–æ', '–ø—É—Å—Ç–æ', '–ø—É—Å—Ç–æ']
    watermelon_box = random.randint(1, 3)
    boxes[watermelon_box - 1] = '–∞—Ä–±—É–∑ üçâ'

    try:
        guess = int(input("–í—ã–±–µ—Ä–∏ –∫–æ—Ä–æ–±–∫—É (1, 2 –∏–ª–∏ 3): "))

        if guess < 1 or guess > 3:
            print("–û—à–∏–±–∫–∞! –ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ 1, 2 –∏–ª–∏ 3.")
            return False

        print(f"\n–¢—ã –≤—ã–±—Ä–∞–ª –∫–æ—Ä–æ–±–∫—É –Ω–æ–º–µ—Ä {guess}...")
        print("–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–æ—Ä–æ–±–∫—É...")

        if boxes[guess - 1] == '–∞—Ä–±—É–∑ üçâ':
            print("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã –Ω–∞—à–µ–ª –∞—Ä–±—É–∑! üçâ")
            print("–¢—ã –ø–æ–±–µ–¥–∏–ª! üèÜ")
            return True
        else:
            print("üòî –£–≤—ã, —ç—Ç–∞ –∫–æ—Ä–æ–±–∫–∞ –ø—É—Å—Ç–∞...")
            print(f"–ê—Ä–±—É–∑ –±—ã–ª –≤ –∫–æ—Ä–æ–±–∫–µ –Ω–æ–º–µ—Ä {watermelon_box}")
            return False

    except ValueError:
        print("–û—à–∏–±–∫–∞! –ù—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ.")
        return False


def main():
    score = 0
    games_played = 0

    while True:
        print("\n" + "=" * 50)
        result = play_game()
        games_played += 1

        if result:
            score += 1

        print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
        print(f"–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ: {games_played}")
        print(f"–ü–æ–±–µ–¥: {score}")
        print(f"–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥: {score / games_played * 100:.1f}%")

        # –°–ø—Ä–∞—à–∏–≤–∞–µ–º, —Ö–æ—á–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –∏–≥—Ä–∞—Ç—å –µ—â–µ
        play_again = input("\n–•–æ—á–µ—à—å —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").lower()
        if play_again not in ['–¥–∞', '–¥', 'yes', 'y']:
            print("\n–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ —Å–≤–∏–¥–∞–Ω–∏—è! üëã")
            break


# –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
if __name__ == "__main__":
    main()
